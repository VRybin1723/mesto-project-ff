(()=>{"use strict";function e(e,t,n,o){var r=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),c=r.querySelector("img"),p=r.querySelector("h2"),u=r.querySelector(".card__delete-button"),i=r.querySelector(".card__like-button");return c.src=e.link,c.alt=e.name,p.textContent=e.name,u.addEventListener("click",(function(){t(r)})),i.addEventListener("click",(function(){n(i)})),c.addEventListener("click",(function(){o(c)})),r}function t(e){e.remove()}function n(e){setTimeout((function(){e.classList.add("popup_is-opened")}),10),document.addEventListener("keydown",o),e.classList.add("popup_is-animated")}function o(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&r(t)}}function r(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",o)}var c=document.querySelector(".places__list"),p=document.querySelector(".popup_type_edit"),u=document.querySelector(".popup_type_new-card"),i=document.querySelector(".popup_type_image"),s=document.querySelector(".profile__title"),a=document.querySelector(".profile__description"),d=p.querySelector(".popup__input_type_name"),l=p.querySelector(".popup__input_type_description"),m=i.querySelector(".popup__image"),_=i.querySelector(".popup__caption");function y(e){e.classList.toggle("card__like-button_is-active")}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(o){c.append(e(o,t,y,(function(e){n(i),function(e,t,n,o){n.src=t.src,n.alt=t.alt,o.textContent=t.alt}(0,e,m,_)})))})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_is-opened")&&r(e),t.target.classList.contains("popup__close")&&r(e)}))})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){n(p),function(e,t,n,o,r){o.value=t.textContent,r.value=n.textContent}(0,s,a,d,l)})),document.querySelector(".profile__add-button").addEventListener("click",(function(){n(u)})),p.querySelector(".popup__form").addEventListener("submit",(function(e){e.preventDefault();var t=d.value,n=l.value;s.textContent=t,a.textContent=n,r(p)}));var f=document.forms["new-place"];f.addEventListener("submit",(function(n){var o,p,i;n.preventDefault(),o=f.elements["place-name"].value,p=f.elements.link.value,i=e({name:o,link:p},t),c.prepend(i),r(u),f.reset()}))})();